### 1. 痛点与动机

- 
- **痛点**：
  - 
  - 点赞机制虽然能反映热度，但受衰减和算法影响，属于动态评分。用户需要一种**静态的、确定的**方式来标记“绝对喜欢”或“以后要看”的视频。
  - 在海量视频中，需要一个快速入口直达用户手动精选的最优质内容，不受播放频率和时间的影响。
- **动机**：
  - 
  - 提供经典的**二元收藏机制**（是/否），作为点赞机制的补充。
  - 构建一个单纯展示用户“心头好”的精品库，方便快速回看最核心的视频集合。

### 2. 功能概要

- 
- **二元状态管理**：视频只有“已收藏”和“未收藏”两种互斥状态。
- **视觉强提示**：播放控制栏通过实心/空心五角星直观展示状态。
- **独立列表视图**：提供独立的展示页面，以网格形式（Grid）平铺展示所有被收藏的视频。
- **列表联动播放**：从该列表进入播放时，播放队列自动锁定为“精品列表”。

### 3. Setting 配置与数据存储

- 
- **元数据文件** (files.json / metadata)：
  - 
  - is_favorite (boolean):
    - 
    - true: 表示已收藏（精品）。
    - false / null: 表示未收藏。
- **数据逻辑**：
  - 
  - 此状态不随时间衰减，不随播放次数变化。
  - 只有用户的主动操作（点击按钮）才能改变此字段的值。

### 4. 快捷键与交互

- 
- **收藏/取消操作**：
  - 
  - **交互**：点击播放控制区的“五角星”按钮。
  - **逻辑**：
    - 
    - 当前为空心 -> 点击变为实心黄色 -> 写数据 is_favorite = true。
    - 当前为实心 -> 点击变为空心 -> 写数据 is_favorite = false。
- **进入精品页面**：
  - 
  - **交互**：点击主界面顶部的“精品”页签（位于播放器页签之后）。
  - **逻辑**：若播放器正在播放，进入该页面时自动暂停视频。

### 5. UI 说明

#### 5.1 播放控制区

- 
- **位置**：位于 **点赞按钮** 的前面。
- **样式**：五角星 Icon。
  - 
  - **未收藏**：空心五角星（默认颜色）。
  - **已收藏**：实心五角星（黄色）。

#### 5.2 精品页面 (The Boutique Page)

- 
- **入口位置**：页签栏，位于 **播放器按钮** 的后面。
- **布局模式**：**Grid 网格视图**。
  - 
  - 不同于点赞页面的分段结构，精品页面是一个统一的平铺列表。
  - 仅展示缩略图，目的是最大化一屏内的视频展示数量。
- **视频单元交互**：
  - 
  - **单击**：选中。
  - **双击**：跳转回播放器页面，并立即开始播放该视频。

### 6. 核心逻辑细节

- 
- **列表生成**：
  - 
  - 遍历 files.json，筛选所有 is_favorite == true 的项目。
  - 形成一个不含层级的扁平列表。
- **播放列表切换**：
  - 
  - 该软件维护多个播放列表上下文（随机、点赞、最近、精品等）。
  - 当用户在精品页面双击视频时：
    1. 
    2. 播放器加载该视频。
    3. 内部播放列表状态切换为 **“精品列表”**。
    4. 此后视频自动播放结束时，将自动寻找精品列表中的下一部视频进行播放，直到列表结束或用户切换模式。

### 7. 数据处理细节

- 
- **数据一致性**：
  - 
  - 即使视频处于“待删除”文件夹或已被移动，只要其哈希对应的元数据中 is_favorite 为真，且文件路径有效，就应显示在列表中。
- **排序**：
  - 
  - 默认按文件创建时间或加入收藏的时间倒序排列（新收藏的在前面），具体取决于底层统一的列表排序策略