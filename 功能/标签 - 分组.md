### 1. 核心定义

标签分组是标签系统的**第一级组织维度**。它将扁平化的海量标签进行语义归类，旨在解决标签数量增多后的检索困难和管理混乱问题。

### 2. 数据结构

采用 **嵌套式结构** 存储。在 tags.json 中，顶层元素即为“分组对象”，标签作为子元素存在于分组中。

**JSON 结构模型：**

codeJSON



```
[
  {
    "groupName": "分组名称 (String, 唯一标识)",
    "tags": [
      { /* 标签对象 A */ },
      { /* 标签对象 B */ }
    ]
  }
]
```

**示例数据：**

- 
- **风景**：包含“日落”、“海滩”、“雪山”等标签。
- **人物特写**：包含“微笑”、“侧脸”等标签。
- **教程/代码演示**：包含“Python示例”等标签。

### 3. 交互逻辑

#### 3.1 分组的创建与指定

在创建新标签（无论是图片标签还是文本标签）时，**分组是必填项**。

- 
- **交互方式**：提供一个“分组”输入框组件。
  - 
  - **选择现有**：点击下拉箭头，列出当前 tags.json 中已存在的所有 groupName 供用户快速选择。
  - **新建分组**：支持用户直接输入新的文本。系统检测到该文本不存在于现有分组列表时，将自动创建一个新的分组容器，并将当前新标签放入其中。

#### 3.2 分组的展示（分配界面）

在为视频分配标签的界面中，分组起到**导航和过滤**的作用。

- 
- **左侧导航栏/区域**：显示所有分组名称列表（如：分组A、分组B、分组C）。
- **层级展示**：点击某个分组，右侧标签展示区域仅显示该分组下的标签。
- **视觉隔离**：在搜索结果或总览视图中，不同分组的标签在视觉上会有分隔或标题标识，便于区分。

### 4. 搜索与索引策略

分组名称本身被视为**高权重关键词**参与搜索索引。

- 
- **搜索逻辑**：
  - 
  - TagIndexBuilder 会提取 groupName 作为索引项。
  - 当用户搜索“风景”时，系统不仅会匹配名字叫“风景”的标签（如果有），还会优先展示“风景”分组下的所有标签（如“日落”、“雪山”）。
- **权重排序**：
  - 
  - 命中分组名称的匹配结果，在推荐列表中通常具有较高的展示优先级。

### 5. 混合内容支持

分组是**容器无关**的，同一个分组下可以同时包含不同类型的标签：

- 
- **图片标签**（带 imagePath 和截图数据）。
- **文本标签**（仅含 texts 描述）。
- *目的*：用户可以创建一个名为“重要时刻”的分组，里面既包含一张“关键报错截图”的图片标签，也包含一个“项目启动”的文本标签。

### 6. 维护与管理 (隐含逻辑)

- 
- **自动清理**：如果一个分组内的所有标签都被删除或移动，该分组容器通常会被自动移除（除非系统设计允许保留空分组）。
- **重命名与合并**：（虽未详细描述，但作为分组功能通常需要支持）修改分组名称会更新 JSON 中的 groupName，移动标签则涉及将标签对象从一个 Array 移动到另一个 Array。