- - ### 1. 痛点与动机
  
    - 
    - **痛点**：
      - 
      - 传统的“收藏”功能是二元的（要么收藏要么不收藏），无法区分“非常喜欢”和“一般喜欢”。
      - 随着时间推移，用户的口味会发生变化，某些曾经喜欢的视频可能已经看腻了，但手动取消收藏的操作成本较高。
      - 缺乏一种机制来动态筛选出用户当前真正感兴趣的高价值内容。
    - **动机**：
      - 
      - 引入**累积计分制**（点赞数），通过高频互动筛选出核心高价值视频。
      - 引入**自动热度衰减**机制，如果视频被观看但未获得互动，说明吸引力下降，自动降低权重。
      - 提供基于分数的**分段聚合视图**，让用户能直观地浏览不同喜爱程度的视频梯队。
  
    ### 2. 功能概要
  
    - 
    - **累积点赞**：在视频播放期间，用户可多次点击点赞，分数累加。
    - **热度衰减**：若视频在一次完整的播放会话中未获得点赞，结束后分数自动衰减（“优胜劣汰”）。
    - **动态分段展示**：点赞列表页面根据当前所有视频的最高分，自动划分为 10 个热度区间进行归类展示。
    - **可视化反馈**：播放器按钮实时显示点赞数；点赞页面以热度图谱形式展示内容。
  
    ### 3. Setting 配置与数据存储
  
    - 
    - **配置文件** (setting.json)：
      - 
      - like_decay_rate (float): 衰减系数，默认为 **0.2**。
    - **元数据文件** (files.json / metadata)：
      - 
      - like_count (float): 记录视频的点赞分数。精确到小数点后一位，UI 显示时取整。
    - **数据逻辑**：
      - 
      - **下限控制**：点赞数最低衰减至 **1**（不再像旧逻辑那样归零）。这意味着一旦点赞过，至少保留 1 分，除非用户手动重置或删除。
  
    ### 4. 快捷键与交互
  
    - 
    - **点赞操作**：
      - 
      - **交互**：点击“点赞”按钮（位于收藏按钮后）。
      - **反馈**：
        - 
        - 图标右上角 Badge 数字 +1。
        - 允许连续点击，每点击一次，like_count +1。
    - **进入点赞列表**：
      - 
      - **交互**：点击主界面顶部的“点赞”页签（位于最近播放页签前）。
      - **逻辑**：若播放器正在播放，进入该页面时自动**暂停**视频。
  
    ### 5. 核心逻辑细节
  
    #### 5.1 增加机制
  
    - 
    - **触发条件**：用户在播放过程中点击点赞按钮。
    - **计算**：New Score = Current Score + 1。
    - **状态标记**：在内存中标记当前播放会话为 is_liked_in_session = true。
  
    #### 5.2 衰减机制
  
    - 
    - **触发条件**：
      - 
      - 视频播放结束（自然播完）。
      - 用户点击“下一个”或切换到其他视频。
    - **判断逻辑**：
      - 
      - 检查 is_liked_in_session。
      - **若为 True**（本次已点赞）：不进行衰减，保留增加后的分数。
      - **若为 False**（本次“白嫖”）：执行衰减。
        - 
        - New Score = Current Score - like_decay_rate。
        - **边界检查**：若 New Score < 1，则 New Score = 1。
  
    #### 5.3 显示逻辑
  
    - 
    - **取整**：虽然后台存储浮点数（如 10.8），但在 UI 上（按钮 Badge、列表标题）只显示**整数部分**（Floor 或 Round 均可，建议向下取整以刺激用户点击）。
  
    ### 6. UI 说明
  
    #### 6.1 播放控制区
  
    - 
    - **位置**：收藏按钮之后。
    - **样式**：点赞图标（如大拇指），图标右上角悬浮显示当前点赞数（Badge）。
  
    #### 6.2 点赞列表页面 (The Like Page)
  
    此页面采用 **左侧导航 + 右侧内容** 的布局：
  
    - 
    - **左侧：热度分段导航**
      - 
      - **计算方式**：获取所有视频中的 Max Score。将 [1, Max Score] 区间平均分为 10 个段（Segment）。
      - **过滤**：如果某个分数段内没有视频，则该段不显示在列表中。
      - **排序**：从高分段到低分段垂直排列。
      - **交互**：点击某个分段，右侧视图滚动锚点到对应的标题位置。
    - **右侧：视频平铺区域**
      - 
      - **布局**：连续流式布局（Flow）。
      - **结构**：
        - 
        - **标题行**：显示当前分段范围（例如 "Score: 90 - 100"）。
        - **Grid 网格**：该分段下的视频缩略图。
        - （紧接着）下一个分段的标题及网格...
      - **视频单元**：显示缩略图、文件名、当前分数。
      - **交互**：双击缩略图 -> 跳转回播放器页面 -> 立即开始播放该视频。
  
    ### 7. 数据处理细节
  
    - 
    - **列表刷新**：
      - 
      - 每次进入点赞页面时，需重新读取内存中的视频数据，重新计算最高分，重新划分 10 个区间，并渲染列表。
    - **排序规则**：
      - 
      - 左侧分段：按分数区间降序。
      - 右侧网格内：同一分数段内的视频，按具体分数降序排列；分数相同时按文件名或创建时间排序。
    - **列表联动**：
      - 
      - 此页面属于“播放列表”的一种。
      - 当用户在点赞列表中双击视频播放时，播放器的“播放列表状态”切换为“点赞列表”。
      - 播放结束后，自动播放该列表排序中的下一个视频。