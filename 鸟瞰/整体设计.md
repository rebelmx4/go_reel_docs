### **软件整体设计**

#### **1. 设计哲学 (Design Philosophy)**

本软件的核心设计理念是 **效率优先、键盘驱动、沉浸体验**。

- **效率优先**: 所有高频操作都应能通过快捷键一键触达，减少鼠标的移动和点击。UI布局以功能分组为导向，让用户能快速定位所需功能。
- **键盘驱动**: 界面上的每一个可交互按钮和标签页，都必须有对应的快捷键，并通过工具提示（Tooltip）明确告知用户，旨在培养并服务于高级用户的操作习惯。
- **沉浸体验**: 在执行核心任务（如观看、录制）时，UI应尽可能减少干扰。通过OSD（屏幕显示）和非阻塞式的Toast通知，在提供必要反馈的同时，不打断用户的主要流程。

#### **2. 整体布局 (Overall Layout)**

应用主窗口分为三个主要区域：

1. **【顶部导航栏】**: 位于窗口最上方，固定高度，用于在不同功能页面间切换。
2. **【主内容区】**: 占据窗口绝大部分中心区域，根据顶部导航的选择，显示播放器、列表或设置页面。
3. **【底部控制栏】**: 位于窗口最下方，固定高度，集中了所有与视频播放直接相关的控制功能。

------



#### **3. 核心交互区域详解 (Detailed Breakdown of Core Interaction Areas)**

此区域位于界面的左上角，是一组水平排列的标签页式按钮，用于全局页面导航。

- **内容**:
  - 播放器: 返回主视频播放视图。
  - 精品: 进入手动收藏的视频列表。
  - 点赞: 进入根据点赞分数分段聚合的列表。
  - 最近: 显示最近播放历史记录。
  - 最新: 显示最新入库的视频文件。
  - 文件名搜索: 切换到以文件名进行搜索的视图。
  - 标签搜索: 切换到以标签进行筛选的视图。
  - 设置: 打开软件的全局配置页面。
- **交互**:
  - **单击**: 切换到对应的功能页面。
  - **活动状态**: 当前选中的标签页会有明显的视觉高亮（如不同的背景色或底部边框线）。
  - **快捷键提示**: 鼠标悬停在任何一个标签页按钮上时，会立即显示一个工具提示（Tooltip），清晰地标明其功能和对应的快捷键（例如，悬停在“最近”上，提示“最近播放 (1)”)。

这是应用的核心显示区域。

- **播放器视图**: 显示视频画面。所有需要即时反馈的无按钮操作（如音量调节、录制状态）将在此区域以OSD形式短暂显示。
- **列表视图**: 当导航到“精品”、“点赞”等页面时，此区域将以网格（Grid）或列表的形式展示视频集合。

这是播放器视图下的核心操作区，从左至右按功能逻辑分组排列。

- **区域一：播放模式与状态**
  - **随机播放按钮**: 切换“随机播放下一个视频”模式的开关。激活时按钮高亮。
  - **跳帧模式按钮**: 切换“跳帧预览”模式的开关。激活时按钮高亮。
- **区域二：时间轴与预览**
  - **截图轨道进度条**: 占据控制栏中心最长的区域。它结合了视觉预览（上方的截图流）和精确控制（下方的线性进度条），是导航视频内容的主要工具。
- **区域三：播放控制与工具**
  - **下一个按钮**: 立即切换到播放列表中的下一个视频。
  - **步进速率按钮**: 点击后可循环切换前进/后退（A/D键）的时间步长（例如：1秒 -> 5秒 -> 30秒）。当前速率会直接显示在按钮上或旁边。
  - **视频旋转按钮**: 每次点击使视频画面顺时针旋转90度。
- **区域四：评分与收藏**
  - **精品按钮 (收藏)**: 用于将视频加入/移出“精品”列表，是一个开关状态按钮（例如，星星图标点亮/熄灭）。
  - **点赞按钮**: 用于增加或减少视频的“热度”分数。该按钮会根据分数（正/负/零）呈现三种不同的视觉状态（颜色、图标），并始终显示当前分数。
- **通用交互**:
  - 控制栏上**所有按钮**在鼠标悬停时，都必须显示包含功能说明和快捷键的工具提示。例如，悬停在旋转按钮上，提示“旋转视频 (Alt+R)”。

------



#### **4. 无按钮的快捷键操作 (Button-less Shortcut Operations)**

这些功能完全由快捷键驱动，以保持界面的简洁性。其反馈机制至关重要。

- **音量调节 (W/S)**: 操作时，在**主内容区（播放器）**的中央或角落短暂显示一个OSD音量条，直观反馈当前音量百分比，数秒后自动淡出。
- **截图导出 (Ctrl+E / Alt+E)**: 操作成功后，触发**全局通知系统**，从左上角弹出一个Toast提示“导出成功”。若需要配置，则弹出模态对话框。
- **视频录制 (R / Shift+R)**:
  - 开始录制时，在**主内容区（播放器）**的右上角显示一个常驻的OSD指示器 🔴 REC 00:00:00。
  - 录制结束或取消时，OSD指示器消失，并触发**全局通知系统**弹出相应的Toast（“录制已保存”或“录制已取消”）。
- **软删除 (Ctrl+Delete)**: 触发**全局通知系统**弹出Toast提示“文件已移至待删除目录”。
- **刷新 (F5)**: 触发**全局通知系统**弹出Toast提示“数据已刷新”。

------



#### **5. 全局通知系统 (Global Notification System - Toast)**

为所有非阻塞性操作提供即时反馈。

- **位置 (Position)**: 所有Toast通知统一出现在应用视口的**左上角**。
- **行为 (Behavior)**:
  - 采用**顶替堆叠**模式。当一个新的Toast出现时，它会占据最顶端的位置。
  - 如果已有Toast存在，则新的Toast会将其“顶”到下方，并保持固定的垂直间距。整个堆叠会平滑地向下移动。
- **生命周期 (Lifecycle)**:
  - 每个Toast默认显示时长为 **1秒**。
  - 时间结束后，该Toast会自动平滑地淡出消失。
  - 当一个Toast（无论是否在堆叠顶部）消失时，其下方的所有Toast会平滑地向上移动，填补空位。